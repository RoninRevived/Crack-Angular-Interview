# **ðŸš€ Setting Up Routing in Angular**  

## **ðŸ“Œ What is Angular Routing?**  
Angular **Routing** allows navigation between different components without reloading the page. It helps in creating **Single Page Applications (SPA)** where users can switch views dynamically.  

---

## **ðŸ”¹ Step 1: Enable Routing in an Angular Project**  
When creating a new Angular project, use the following command:  
```sh
ng new my-angular-app --routing
```
This will automatically generate a `app-routing.module.ts` file.

If you already have an Angular project, you can manually add routing:  
```sh
ng generate module app-routing --flat --module=app
```
âœ… This command creates `app-routing.module.ts` and adds it to `app.module.ts`.

---

## **ðŸ”¹ Step 2: Define Routes in `app-routing.module.ts`**  
A **route** maps a URL to a **component**.

### **ðŸ“Œ app-routing.module.ts**
```typescript
import { NgModule } from '@angular/core';
import { RouterModule, Routes } from '@angular/router';
import { HomeComponent } from './home/home.component';
import { AboutComponent } from './about/about.component';
import { PageNotFoundComponent } from './page-not-found/page-not-found.component';

const routes: Routes = [
  { path: '', component: HomeComponent }, // Default route
  { path: 'about', component: AboutComponent }, // About page
  { path: '**', component: PageNotFoundComponent } // Wildcard for 404
];

@NgModule({
  imports: [RouterModule.forRoot(routes)],
  exports: [RouterModule]
})
export class AppRoutingModule {}
```

âœ… **Key Points:**  
- `path: ''` â†’ Default route (Home Page).  
- `path: 'about'` â†’ Navigates to `/about`.  
- `path: '**'` â†’ Wildcard route for unknown URLs (404 page).  
- `RouterModule.forRoot(routes)` â†’ Initializes the router.  

---

## **ðŸ”¹ Step 3: Add Router Outlet in `app.component.html`**
The `<router-outlet>` is where Angular loads the components based on the current route.

### **ðŸ“Œ app.component.html**
```html
<nav>
  <a routerLink="/">Home</a>
  <a routerLink="/about">About</a>
</nav>

<!-- Load components dynamically -->
<router-outlet></router-outlet>
```

âœ… **`routerLink`** is used instead of `<a href>` to prevent full-page reloads.  

---

## **ðŸ”¹ Step 4: Creating Components for Routing**
Run the following commands to generate components:  
```sh
ng generate component home
ng generate component about
ng generate component page-not-found
```

Each component will have its own **HTML, CSS, and TypeScript** files.

---

## **ðŸ”¹ Step 5: Navigating Between Pages Programmatically**
Instead of `<a routerLink>`, you can navigate using the **Router** service.

### **ðŸ“Œ home.component.ts**
```typescript
import { Component } from '@angular/core';
import { Router } from '@angular/router';

@Component({
  selector: 'app-home',
  templateUrl: './home.component.html',
})
export class HomeComponent {
  constructor(private router: Router) {}

  goToAbout() {
    this.router.navigate(['/about']); // Navigates to About page
  }
}
```

### **ðŸ“Œ home.component.html**
```html
<h1>Welcome to Home</h1>
<button (click)="goToAbout()">Go to About</button>
```

âœ… **Using `router.navigate(['/path'])` allows navigation without reloading the page.**

---

## **ðŸ”¹ Step 6: Route Parameters (Dynamic Routing)**
Sometimes, we need to pass dynamic values in the URL, like `user/:id`.

### **ðŸ“Œ app-routing.module.ts**
```typescript
const routes: Routes = [
  { path: 'user/:id', component: UserComponent }
];
```

### **ðŸ“Œ user.component.ts**
```typescript
import { Component, OnInit } from '@angular/core';
import { ActivatedRoute } from '@angular/router';

@Component({
  selector: 'app-user',
  templateUrl: './user.component.html',
})
export class UserComponent implements OnInit {
  userId!: string;

  constructor(private route: ActivatedRoute) {}

  ngOnInit() {
    this.userId = this.route.snapshot.paramMap.get('id')!;
  }
}
```

### **ðŸ“Œ user.component.html**
```html
<h2>User ID: {{ userId }}</h2>
```

âœ… **Now, navigating to `/user/123` will display "User ID: 123".**

---

## **ðŸ”¹ Step 7: Lazy Loading Routes (Performance Optimization)**
Instead of loading all modules at once, we can **lazy load** them.

### **ðŸ“Œ Create a Module for Lazy Loading**
```sh
ng generate module admin --route admin --module app-routing
```
This command automatically sets up lazy loading.

âœ… **Now, the Admin module loads only when the user visits `/admin`.**  

---

## **ðŸ”¹ Step 8: Protecting Routes with Route Guards**
We can use **Auth Guards** to restrict access.

### **ðŸ“Œ Generate a Guard**
```sh
ng generate guard auth
```

### **ðŸ“Œ auth.guard.ts**
```typescript
import { Injectable } from '@angular/core';
import { CanActivate, Router } from '@angular/router';

@Injectable({
  providedIn: 'root'
})
export class AuthGuard implements CanActivate {
  constructor(private router: Router) {}

  canActivate(): boolean {
    const isLoggedIn = false; // Change this based on authentication
    if (!isLoggedIn) {
      this.router.navigate(['/login']);
      return false;
    }
    return true;
  }
}
```

### **ðŸ“Œ Protecting Routes in `app-routing.module.ts`**
```typescript
const routes: Routes = [
  { path: 'dashboard', component: DashboardComponent, canActivate: [AuthGuard] }
];
```

âœ… **Now, users must be authenticated to access `/dashboard`.**

---

## **ðŸš€ Summary: Key Features of Angular Routing**  
| Feature | Description |
|---------|------------|
| **Basic Routing** | Navigate between pages using `RouterModule` |
| **Router Outlet** | Loads components dynamically |
| **RouterLink** | Prevents full-page reloads |
| **Programmatic Navigation** | Use `router.navigate(['/path'])` for navigation |
| **Route Parameters** | Pass dynamic values like `user/:id` |
| **Lazy Loading** | Loads modules only when needed |
| **Route Guards** | Protect routes with `AuthGuard` |

âœ… **Angular Routing is powerful for building scalable applications!** ðŸš€  
