# **ðŸ—„ Local Storage, Session Storage, and Cookies in Angular**  

## **ðŸ”¹ What are Local Storage, Session Storage, and Cookies?**  
When building web applications, we often need to store user-related data in the browser. Angular provides various ways to store data on the client-side:  

| Storage Type | Data Size | Expiry | Accessible From | Stored Data Format | Use Case |
|-------------|----------|--------|----------------|-----------------|----------|
| **Local Storage** | ~5MB | Never (Until manually cleared) | Same origin (Same domain) | Key-Value (String) | Persistent user settings, authentication tokens |
| **Session Storage** | ~5MB | When tab is closed | Same origin (Tab-specific) | Key-Value (String) | Temporary data, active session tracking |
| **Cookies** | ~4KB | Can be set (Expires) | Server & Client | Key-Value (String) | Authentication, tracking, small data storage |

---

## **ðŸ”¹ 1. Local Storage in Angular**  
Local Storage allows you to store data permanently (even after closing the browser).  

### **ðŸ›  Example: Storing and Retrieving Data in Local Storage**
#### **ðŸ“Œ Saving Data**
```typescript
localStorage.setItem('username', 'JohnDoe');
```

#### **ðŸ“Œ Retrieving Data**
```typescript
const user = localStorage.getItem('username');
console.log(user); // Output: JohnDoe
```

#### **ðŸ“Œ Removing Data**
```typescript
localStorage.removeItem('username');
```

#### **ðŸ“Œ Clearing All Data**
```typescript
localStorage.clear();
```

âœ… **Best Use Case:**  
- Storing user preferences  
- Keeping authentication tokens (only if no security risk)  

---

## **ðŸ”¹ 2. Session Storage in Angular**  
Session Storage works like Local Storage but clears data when the browser tab is closed.  

### **ðŸ›  Example: Storing and Retrieving Data in Session Storage**
#### **ðŸ“Œ Saving Data**
```typescript
sessionStorage.setItem('sessionUser', 'JaneDoe');
```

#### **ðŸ“Œ Retrieving Data**
```typescript
const user = sessionStorage.getItem('sessionUser');
console.log(user); // Output: JaneDoe
```

#### **ðŸ“Œ Removing Data**
```typescript
sessionStorage.removeItem('sessionUser');
```

#### **ðŸ“Œ Clearing All Data**
```typescript
sessionStorage.clear();
```

âœ… **Best Use Case:**  
- Storing temporary user data during a session  
- Keeping form data until submission  

---

## **ðŸ”¹ 3. Cookies in Angular**  
Cookies store small pieces of data (max ~4KB) and can be accessed by both the **client** and **server**.  

### **ðŸ›  Setting, Getting, and Deleting Cookies**
#### **ðŸ“Œ Setting a Cookie (Expires in 7 days)**
```typescript
document.cookie = "user=JohnDoe; expires=" + new Date(2025, 1, 1).toUTCString();
```

#### **ðŸ“Œ Retrieving a Cookie**
```typescript
console.log(document.cookie); // Output: user=JohnDoe
```

#### **ðŸ“Œ Deleting a Cookie**
```typescript
document.cookie = "user=; expires=Thu, 01 Jan 1970 00:00:00 UTC";
```

âœ… **Best Use Case:**  
- Authentication tokens  
- Tracking user sessions  
- Small data storage shared between client and server  

---

## **ðŸš€ Implementing Local Storage & Session Storage Using Angular Services**  
To keep storage-related logic separate, letâ€™s create an Angular service to handle Local and Session Storage.  

### **ðŸ“Œ Generating the Service**  
```sh
ng generate service storage
```

### **ðŸ“Œ storage.service.ts**
```typescript
import { Injectable } from '@angular/core';

@Injectable({
  providedIn: 'root'
})
export class StorageService {

  // Local Storage Methods
  setLocal(key: string, value: string) {
    localStorage.setItem(key, value);
  }

  getLocal(key: string) {
    return localStorage.getItem(key);
  }

  removeLocal(key: string) {
    localStorage.removeItem(key);
  }

  clearLocal() {
    localStorage.clear();
  }

  // Session Storage Methods
  setSession(key: string, value: string) {
    sessionStorage.setItem(key, value);
  }

  getSession(key: string) {
    return sessionStorage.getItem(key);
  }

  removeSession(key: string) {
    sessionStorage.removeItem(key);
  }

  clearSession() {
    sessionStorage.clear();
  }
}
```

âœ… **Now, you can use this service in any component to handle Local and Session Storage.**  

---

## **ðŸŽ¯ When to Use What?**  

| Storage Type | Use When You Need | Avoid When |
|-------------|----------------|-------------|
| **Local Storage** | Persistent data, user preferences, dark mode settings | Storing sensitive data like passwords or tokens |
| **Session Storage** | Temporary data per session, wizard forms, cart items | Data should persist after tab/browser close |
| **Cookies** | Authentication, tracking, server-client communication | Large data storage (use Local Storage instead) |

---

## **ðŸ›¡ Security Considerations**  
âš  **Never store sensitive information (e.g., passwords, authentication tokens) in Local Storage, Session Storage, or Cookies without encryption.**  
âš  Always use **HTTP-Only Cookies** for storing secure authentication tokens.  
âš  Consider **Angular Interceptors** for handling authentication tokens securely.  

---

## **ðŸ”¹ Summary**  

| Feature | Local Storage | Session Storage | Cookies |
|---------|--------------|----------------|---------|
| Data Size | ~5MB | ~5MB | ~4KB |
| Expiry | Never | On tab close | Can be set |
| Accessible From | Same origin | Same origin | Server & Client |
| Use For | Preferences, persistent state | Temporary data, active sessions | Authentication, tracking |
